<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reloj multizona: RD â€¢ CO â€¢ MX â€¢ GT</title>
  <style>
    :root {
      --bg: #0b1020;
      --card: #121935;
      --card-2: #0f1530;
      --text: #e9eefb;
      --muted: #a9b3d1;
      --accent: #5eead4;
      --ring: #7c3aed33;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 20% 0%, #1c2a64 0%, transparent 40%),
                  radial-gradient(1200px 800px at 100% 100%, #0a3b42 0%, transparent 40%),
                  linear-gradient(180deg, #080d1d 0%, #0b1020 100%);
      display: grid;
      place-items: center;
      padding: 32px 16px;
    }
    .wrap {
      width: 100%;
      max-width: 1100px;
    }
    header {
      display: flex; 
      gap: 12px; 
      justify-content: space-between; 
      align-items: center; 
      margin-bottom: 16px;
    }
    header h1 {
      font-size: clamp(1.15rem, 1vw + 1rem, 1.6rem);
      margin: 0;
      letter-spacing: .3px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    header h1 img {
      height: 40px;
    }
    .controls { display: flex; gap: 8px; align-items: center; }

    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--card);
      border: 1px solid #2a356b;
      padding: 8px 12px;
      border-radius: 12px;
      color: var(--text);
      cursor: pointer;
      user-select: none;
      box-shadow: 0 0 0 2px var(--ring);
    }
    .toggle input { appearance: none; width: 36px; height: 22px; background: #344074; border-radius: 999px; position: relative; outline: none; transition: .2s ease-in-out; }
    .toggle input::after { content: ""; position: absolute; inset: 3px; width: 16px; height: 16px; border-radius: 50%; background: white; transform: translateX(0); transition: .2s ease-in-out; }
    .toggle input:checked { background: #1e9b8a; }
    .toggle input:checked::after { transform: translateX(14px); }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 16px;
    }
    @media (max-width: 1024px) {
      .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 560px) {
      .grid { grid-template-columns: 1fr; }
    }

    .card {
      background: linear-gradient(160deg, var(--card) 0%, var(--card-2) 100%);
      border: 1px solid #223064;
      border-radius: 16px;
      padding: 18px 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      position: relative;
      overflow: hidden;
      isolation: isolate;
    }
    .card::after {
      content: "";
      position: absolute; inset: -20% -40% auto auto; 
      width: 160px; height: 160px; border-radius: 50%;
      background: radial-gradient(closest-side, #36d1c449, transparent 70%);
      filter: blur(6px); z-index: -1;
      transform: translate3d(0,0,0);
    }

    .country {
      display: flex; align-items: baseline; gap: 8px; margin-bottom: 6px;
    }
    .country .flag { font-size: 1.25rem; }
    .country .name { font-weight: 700; letter-spacing: .2px; }
    .city { color: var(--muted); font-size: .95rem; }

    .time {
      font-variant-numeric: tabular-nums;
      font-size: clamp(2.1rem, 4.2vw, 3.2rem);
      font-weight: 800;
      line-height: 1.1;
      margin: 8px 0 6px;
      letter-spacing: .5px;
    }
    .ampm { font-size: .9rem; color: var(--muted); margin-left: 8px; font-weight: 600; }

    .date { color: var(--muted); font-size: .95rem; }

    footer { margin-top: 16px; color: var(--muted); font-size: .9rem; text-align: center; }
    .badge { color: #0c3832; background: var(--accent); font-weight: 800; border-radius: 999px; padding: 4px 10px; }
    footer a { color: var(--accent); text-decoration: none; font-weight: 700; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>
        <img src="soy_digital_w_m.png" alt="Soy Digital" />
        Reloj multizona â€” <span class="badge">RD Â· CO Â· MX Â· GT</span>
      </h1>
      <div class="controls" title="Cambiar entre 24 h y 12 h">
        <span>24 h</span>
        <label class="toggle">
          <input id="toggleHourMode" type="checkbox" aria-label="Usar formato de 12 horas" />
        </label>
        <span>12 h</span>
      </div>
    </header>

    <section class="grid" id="grid">
      <!-- Las tarjetas se pintan con JS para que sea fÃ¡cil aÃ±adir/quitar zonas -->
    </section>

    <footer>
      Powered By <a href="https://oscarleon.app/" target="_blank">OSCARLEON</a>
    </footer>
  </div>

  <script>
    const ZONES = [
      { flag: "ðŸ‡©ðŸ‡´", nombre: "RepÃºblica Dominicana", ciudad: "Santo Domingo", tz: "America/Santo_Domingo" },
      { flag: "ðŸ‡¨ðŸ‡´", nombre: "Colombia", ciudad: "BogotÃ¡", tz: "America/Bogota" },
      { flag: "ðŸ‡²ðŸ‡½", nombre: "MÃ©xico (CDMX)", ciudad: "Ciudad de MÃ©xico", tz: "America/Mexico_City" },
      { flag: "ðŸ‡¬ðŸ‡¹", nombre: "Guatemala", ciudad: "Guatemala", tz: "America/Guatemala" },
    ];

    const state = { hour12: false, raf: null, formatters: new Map() };
    const grid = document.getElementById('grid');
    const toggle = document.getElementById('toggleHourMode');

    function renderCards() {
      grid.innerHTML = ZONES.map((z, idx) => `
        <article class="card" data-tz="${z.tz}" data-idx="${idx}">
          <div class="country">
            <span class="flag" aria-hidden="true">${z.flag}</span>
            <span class="name">${z.nombre}</span>
          </div>
          <div class="city">${z.ciudad}</div>
          <div class="time" id="time-${idx}">--:--:-- <span class="ampm" id="ampm-${idx}"></span></div>
          <div class="date" id="date-${idx}">â€”</div>
        </article>
      `).join('');
    }

    function getFormatters(tz) {
      const key = tz + '|' + state.hour12;
      if (state.formatters.has(key)) return state.formatters.get(key);
      const time = new Intl.DateTimeFormat('es-ES', { timeZone: tz, hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: state.hour12 });
      const date = new Intl.DateTimeFormat('es-ES', { timeZone: tz, weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
      const ampm = state.hour12 ? new Intl.DateTimeFormat('es-ES', { timeZone: tz, hour: 'numeric', hour12: true }) : null;
      const f = { time, date, ampm };
      state.formatters.set(key, f);
      return f;
    }

    function setText(id, txt) { const el = document.getElementById(id); if (el) el.textContent = txt; }

    function tick() {
      const now = new Date();
      ZONES.forEach((z, idx) => {
        const f = getFormatters(z.tz);
        const t = f.time.format(now);
        setText('time-' + idx, t);
        if (state.hour12) {
          const ampmText = f.ampm.formatToParts(now).find(p => p.type === 'dayPeriod')?.value?.toUpperCase?.() || '';
          setText('ampm-' + idx, ampmText);
        } else {
          setText('ampm-' + idx, '');
        }
        const d = f.date.format(now);
        setText('date-' + idx, d);
      });
      state.raf = setTimeout(() => requestAnimationFrame(tick), 1000 - (Date.now() % 1000));
    }

    function start() {
      renderCards();
      tick();
    }

    toggle.addEventListener('change', () => {
      state.hour12 = toggle.checked;
      state.formatters.clear();
      tick();
    });

    start();
    window.addEventListener('beforeunload', () => { if (state.raf) clearTimeout(state.raf); });
  </script>
</body>
</html>